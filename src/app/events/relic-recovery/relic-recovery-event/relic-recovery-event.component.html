<div class="container">
  <h1>{{eventID}}</h1>
  <hr>

  <nav class="nav nav-tabs" id="myTab" role="tablist">
    <a class="nav-item nav-link active" data-toggle="tab" href="#rankings" role="tab">Rankings</a>
    <a class="nav-item nav-link" data-toggle="tab" href="#match-history" role="tab">Match History</a>
    <a class="nav-item nav-link" data-toggle="tab" href="#average-scores" role="tab">Average Scores</a>
  </nav>

  <div class="tab-content">
    <div style="padding-top: 10px;" id="rankings" class="tab-pane fade show active table-responsive">
      <div class="redcircle"></div>
      <span class="key">= Autonomous Period</span>
      <br>
      <div class="bluecircle"></div>
      <span class="key">= Teleop Period</span>
      <br>
      <div class="greencircle"></div>
      <span class="key">= End Game Period</span>
      <table class="table table-striped table-responsive" id="inputTable1" datatable [dtOptions]="dtOptions" *ngIf="data">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Team Number</th>
            <th>Team Name</th>
            <th>Record W-L-T</th>
            <th>QP</th>
            <th>RP</th>
            <th>Total Average</th>
            <th>Marginal Average</th>
            <th class="red">Average</th>
            <th class="blue">Average</th>
            <th class="green">Average</th>
          </tr>
        </thead>
        <tbody >
          <tr *ngFor="let ranking of data.ranking">
            <td>{{ranking.rank}}</td>
            <td>{{ranking.teamNumber}}</td>
            <td>{{ranking.teamName}}</td>
            <td>{{ranking.record.wins}}-{{ranking.record.losses}}-{{ranking.record.ties}}</td>
            <td>{{ranking.qualifyingPoints}}</td>
            <td>{{ranking.rankingPoints}}</td>
            <td>{{ranking.averageScore}}</td>
            <td>{{ranking.averageMarginalScore}}</td>
            <td class="auto">{{ranking.average.auto}}</td>
            <td class="driver">{{ranking.average.driver}}</td>
            <td class="end">{{ranking.average.end}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div style="padding-top: 10px;" id="match-history" class="tab-pane fade table-responsive">
      <div class="redcircle"></div>
      <span class="key">= Autonomous Period</span>
      <br>
      <div class="bluecircle"></div>
      <span class="key">= Teleop Period</span>
      <br>
      <div class="greencircle"></div>
      <span class="key">= End Game Period</span>

      <table class="table table-responsive" id="inputTable2" datatable [dtOptions]="dtOptions" *ngIf="data">
          <thead>
              <tr>
                <th>#</th>
                <th>Team Numbers</th>
                <th>Team Names</th>
                <th>Ranks</th>
                <th>Result</th>
                <th class="red">Jewel</th>
                <th class="red">Glyphs</th>
                <th class="red">Keys</th>
                <th class="red">Park</th>
                <th class="blue">Glyphs</th>
                <th class="blue">Rows</th>
                <th class="blue">Columns</th>
                <th class="blue">Cypher</th>
                <th class="green">Relic 1</th>
                <th class="green">Relic 2</th>
                <th class="green">Relic 3</th>
                <th class="green">Relic Up</th>
                <th class="green">Balance</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let matchHistory of data.matchHistory; index as i" [ngClass]="{'blue-alliance': matchHistory.alliance === 'blue', 'red-alliance': matchHistory.alliance === 'red'}">
                <!-- <td class="match-number" rowspan="2" [ngClass]="{'d-none': i%2 !=0}">{{matchHistory.matchNumber}}</td> -->
                <td>{{matchHistory.matchNumber}}</td>
                <td>{{matchHistory.team1.teamNumber}}<br> {{matchHistory.team2.teamNumber}}</td>
                <td>{{matchHistory.team1.teamName}}<br> {{matchHistory.team2.teamName}}</td>
                <td>{{matchHistory.team1.rank}}<br> {{matchHistory.team2.rank}}</td>
                <td [ngClass]="{'font-weight-bold': matchHistory.alliance === matchHistory.winner}">{{matchHistory.result.final}}</td>
                <td class="auto">{{matchHistory.gameInformation.auto.jewel}}</td>
                <td class="auto">{{matchHistory.gameInformation.auto.glyphs}}</td>
                <td class="auto">{{matchHistory.gameInformation.auto.keys}}</td>
                <td class="auto">{{matchHistory.gameInformation.auto.park}}</td>
                <td class="driver">{{matchHistory.gameInformation.driver.glyphs}}</td>
                <td class="driver">{{matchHistory.gameInformation.driver.rows}}</td>
                <td class="driver">{{matchHistory.gameInformation.driver.columns}}</td>
                <td class="driver">{{matchHistory.gameInformation.driver.cypher}}</td>
                <td class="end">{{matchHistory.gameInformation.end.relic1}}</td>
                <td class="end">{{matchHistory.gameInformation.end.relic2}}</td>
                <td class="end">{{matchHistory.gameInformation.end.relic3}}</td>
                <td class="end">{{matchHistory.gameInformation.end.relicsUp}}</td>
                <td class="end">{{matchHistory.gameInformation.end.balanced}}</td>
              </tr>
            </tbody>
      </table>
    </div>
    <div style="padding-top: 10px;" id="average-scores" class="tab-pane fade table-responsive">
      <div class="redcircle"></div>
      <span class="key">= Autonomous Period</span>
      <br>
      <div class="bluecircle"></div>
      <span class="key">= Teleop Period</span>
      <br>
      <div class="greencircle"></div>
      <span class="key">= End Game Period</span>
      <table class="table table-striped table-bordered table-responsive" id="inputTable3" datatable [dtOptions]="dtOptions" *ngIf="data">
        <thead>
          <tr>
            <th>Team Number</th>
            <th>Team Name</th>
            <th>Average Score</th>
            <th class="red">Average</th>
            <th class="blue">Average</th>
            <th class="green">Average</th>
            <th class="red">Jewel</th>
            <th class="red">Glyphs</th>
            <th class="red">Keys</th>
            <th class="red">Park</th>
            <th class="blue">Glyphs</th>
            <th class="blue">Rows</th>
            <th class="blue">Columns</th>
            <th class="blue">Cypher</th>
            <th class="green">Relic 1</th>
            <th class="green">Relic 2</th>
            <th class="green">Relic 3</th>
            <th class="green">Relic Up</th>
            <th class="green">Balance</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let averageScores of data.averageScores">
            <td>{{averageScores.teamNumber}}</td>
            <td>{{averageScores.teamName}}</td>
            <td>{{averageScores.averageScore}}</td>
            <td>{{averageScores.average.auto}}</td>
            <td>{{averageScores.average.driver}}</td>
            <td>{{averageScores.average.end}}</td>
            <td>{{averageScores.gameAverages.auto.jewel}}</td>
            <td>{{averageScores.gameAverages.auto.glyphs}}</td>
            <td>{{averageScores.gameAverages.auto.keys}}</td>
            <td>{{averageScores.gameAverages.auto.park}}</td>
            <td>{{averageScores.gameAverages.driver.glyphs}}</td>
            <td>{{averageScores.gameAverages.driver.rows}}</td>
            <td>{{averageScores.gameAverages.driver.columns}}</td>
            <td>{{averageScores.gameAverages.driver.cypher}}</td>
            <td>{{averageScores.gameAverages.end.relic1}}</td>
            <td>{{averageScores.gameAverages.end.relic2}}</td>
            <td>{{averageScores.gameAverages.end.relic3}}</td>
            <td>{{averageScores.gameAverages.end.relicsUp}}</td>
            <td>{{averageScores.gameAverages.end.balanced}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
